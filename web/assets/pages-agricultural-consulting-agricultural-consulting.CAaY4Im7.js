import{c as t,w as e,n as s,j as a,k as l,l as i,v as c,i as n,o,a as u,b as r,d,x as p,t as f,I as m,y as _,e as g,h as x,F as h,r as y,g as k,m as C,z as w,u as v}from"./index-BA1GR2nA.js";import{_ as b}from"./_plugin-vue_export-helper.BCo6x5W8.js";const L=b({data:()=>({typeIndex:0,consultTypes:["种植技术","病虫害防治","土壤改良","农产品加工","农业政策","其他"],title:"",content:"",imageList:[],expertList:[{id:"1",name:"张同学",title:"农学实践导师",avatar:"/static/student_pictures/stu-pt1.png",field:"水稻种植、病虫害防治",answers:128,rating:"98%"},{id:"2",name:"李同学",title:"植保青年讲师",avatar:"/static/student_pictures/stu-pt2.png",field:"果树栽培、农药使用",answers:96,rating:"95%"},{id:"3",name:"王同学",title:"土壤改良顾问",avatar:"/static/student_pictures/stu-pt3.png",field:"土壤改良、肥料使用",answers:85,rating:"97%"}],topics:[{title:"智能灌溉与节水增产",desc:"精准灌溉策略与案例",image:"/static/show_pictures/show-pt4.png"},{title:"绿色防控技术精选",desc:"高效低残留方案",image:"/static/show_pictures/show-pt6.png"},{title:"测土配方科学施肥",desc:"提升肥效与品质",image:"/static/show_pictures/show-pt5.png"}],historyList:[{id:"1",title:"水稻田间出现黄叶，是什么原因？",content:"我家的水稻最近出现黄叶现象，不知道是缺素还是病害，请青年导师指导一下...",status:"已解决",time:"2023-05-15",expert:"张同学"},{id:"2",title:"果树春季修剪技术咨询",content:"想了解一下苹果树春季修剪的正确方法，以及注意事项...",status:"处理中",time:"2023-05-10",expert:"待分配"},{id:"3",title:"土壤酸化问题如何解决？",content:"我家的土地pH值测试只有5.2，属于酸性土壤，想咨询如何改良...",status:"已解决",time:"2023-05-08",expert:"王同学"}]}),methods:{openTopic(t){s({url:"/pages/agricultural-news/agricultural-news"})},bindPickerChange(t){this.typeIndex=t.detail.value},chooseImage(){c({count:1,success:t=>{this.imageList=[...this.imageList,...t.tempFilePaths]}})},deleteImage(t){this.imageList.splice(t,1)},submitConsult(){this.title&&this.content?(l({title:"提交中..."}),setTimeout((()=>{i(),a({title:"提交成功",icon:"success"}),this.title="",this.content="",this.imageList=[]}),1500)):a({title:"请填写咨询标题和内容",icon:"none"})},consultExpert(t){s({url:`/pages/consulting-detail/consulting-detail?expertId=${t.id}`})},viewHistory(t){s({url:`/pages/consulting-detail/consulting-detail?id=${t.id}`})},navigateToExpertLibrary(){s({url:"/pages/expert-library/expert-library"})},navigateToAgriculturalNews(){s({url:"/pages/agricultural-news/agricultural-news"})},navigateToHistoryList(){s({url:"/pages/consulting-list/consulting-list"})}}},[["render",function(s,a,l,i,c,b){const L=r,T=n,I=p,V=m,F=_,H=k,E=C,j=w;return o(),t(T,{class:"consulting-container"},{default:e((()=>[u(T,{class:"header-box"},{default:e((()=>[u(L,{class:"page-title"},{default:e((()=>[d("农业咨询")])),_:1})])),_:1}),u(T,{class:"consult-form"},{default:e((()=>[u(T,{class:"form-title"},{default:e((()=>[d("提交咨询")])),_:1}),u(T,{class:"form-item"},{default:e((()=>[u(L,{class:"item-label"},{default:e((()=>[d("咨询类型")])),_:1}),u(I,{onChange:b.bindPickerChange,value:c.typeIndex,range:c.consultTypes,class:"picker-container"},{default:e((()=>[u(T,{class:"picker-view"},{default:e((()=>[u(L,null,{default:e((()=>[d(f(c.consultTypes[c.typeIndex]),1)])),_:1}),u(L,{class:"iconfont icon-arrow-down"})])),_:1})])),_:1},8,["onChange","value","range"])])),_:1}),u(T,{class:"form-item"},{default:e((()=>[u(L,{class:"item-label"},{default:e((()=>[d("咨询标题")])),_:1}),u(V,{type:"text",placeholder:"请输入咨询标题",class:"form-input",modelValue:c.title,"onUpdate:modelValue":a[0]||(a[0]=t=>c.title=t)},null,8,["modelValue"])])),_:1}),u(T,{class:"form-item"},{default:e((()=>[u(L,{class:"item-label"},{default:e((()=>[d("咨询内容")])),_:1}),u(F,{placeholder:"请详细描述您的问题，以便导师更准确地解答",class:"form-textarea",modelValue:c.content,"onUpdate:modelValue":a[1]||(a[1]=t=>c.content=t)},null,8,["modelValue"])])),_:1}),u(T,{class:"form-item"},{default:e((()=>[u(L,{class:"item-label"},{default:e((()=>[d("上传图片")])),_:1}),u(T,{class:"upload-area"},{default:e((()=>[(o(!0),g(h,null,y(c.imageList,((s,a)=>(o(),t(T,{class:"upload-item",key:a},{default:e((()=>[u(H,{src:s,mode:"aspectFill",class:"upload-image"},null,8,["src"]),u(L,{class:"delete-icon",onClick:t=>b.deleteImage(a)},{default:e((()=>[d("×")])),_:2},1032,["onClick"])])),_:2},1024)))),128)),c.imageList.length<3?(o(),t(T,{key:0,class:"upload-btn",onClick:b.chooseImage},{default:e((()=>[u(L,{class:"iconfont icon-camera"}),u(L,{class:"upload-text"},{default:e((()=>[d("上传图片")])),_:1})])),_:1},8,["onClick"])):x("",!0)])),_:1})])),_:1}),u(E,{class:"submit-btn",onClick:b.submitConsult},{default:e((()=>[d("提交咨询")])),_:1},8,["onClick"])])),_:1}),u(T,{class:"expert-section"},{default:e((()=>[u(T,{class:"section-title"},{default:e((()=>[u(L,{class:"title-text"},{default:e((()=>[d("推荐导师")])),_:1}),u(L,{class:"more-text",onClick:b.navigateToExpertLibrary},{default:e((()=>[d("查看更多 >")])),_:1},8,["onClick"])])),_:1}),u(T,{class:"expert-list"},{default:e((()=>[(o(!0),g(h,null,y(c.expertList,((s,a)=>(o(),t(T,{class:"expert-item",key:a,onClick:t=>b.consultExpert(s)},{default:e((()=>[u(H,{src:s.avatar,mode:"aspectFill",class:"expert-avatar"},null,8,["src"]),u(T,{class:"expert-info"},{default:e((()=>[u(T,{class:"expert-name"},{default:e((()=>[d(f(s.name)+" ",1),u(L,{class:"expert-title"},{default:e((()=>[d(f(s.title),1)])),_:2},1024)])),_:2},1024),u(T,{class:"expert-field"},{default:e((()=>[d("擅长领域："+f(s.field),1)])),_:2},1024),u(T,{class:"expert-stats"},{default:e((()=>[u(L,{class:"stat-item"},{default:e((()=>[d("回答："+f(s.answers),1)])),_:2},1024),u(L,{class:"stat-item"},{default:e((()=>[d("好评率："+f(s.rating),1)])),_:2},1024)])),_:2},1024)])),_:2},1024),u(E,{class:"consult-btn"},{default:e((()=>[d("咨询")])),_:1})])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),u(T,{class:"topics-section"},{default:e((()=>[u(T,{class:"section-title"},{default:e((()=>[u(L,{class:"title-text"},{default:e((()=>[d("农业专题")])),_:1}),u(L,{class:"more-text",onClick:b.navigateToAgriculturalNews},{default:e((()=>[d("更多资讯 >")])),_:1},8,["onClick"])])),_:1}),u(j,{"scroll-x":"true",class:"topics-scroll"},{default:e((()=>[(o(!0),g(h,null,y(c.topics,((s,a)=>(o(),t(T,{class:"topic-card",key:a,onClick:t=>b.openTopic(s)},{default:e((()=>[u(H,{src:s.image,mode:"aspectFill",class:"topic-image"},null,8,["src"]),u(T,{class:"topic-info"},{default:e((()=>[u(L,{class:"topic-title"},{default:e((()=>[d(f(s.title),1)])),_:2},1024),u(L,{class:"topic-desc"},{default:e((()=>[d(f(s.desc),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),u(T,{class:"history-section"},{default:e((()=>[u(T,{class:"section-title"},{default:e((()=>[u(L,{class:"title-text"},{default:e((()=>[d("历史咨询")])),_:1}),u(L,{class:"more-text",onClick:b.navigateToHistoryList},{default:e((()=>[d("查看全部 >")])),_:1},8,["onClick"])])),_:1}),u(T,{class:"history-list"},{default:e((()=>[(o(!0),g(h,null,y(c.historyList,((s,a)=>(o(),t(T,{class:"history-item",key:a,onClick:t=>b.viewHistory(s)},{default:e((()=>[u(T,{class:"history-title"},{default:e((()=>[u(L,{class:"title-text"},{default:e((()=>[d(f(s.title),1)])),_:2},1024),u(L,{class:v(["status-tag",{"status-resolved":"已解决"===s.status}])},{default:e((()=>[d(f(s.status),1)])),_:2},1032,["class"])])),_:2},1024),u(T,{class:"history-content"},{default:e((()=>[d(f(s.content),1)])),_:2},1024),u(T,{class:"history-meta"},{default:e((()=>[u(L,{class:"meta-time"},{default:e((()=>[d(f(s.time),1)])),_:2},1024),u(L,{class:"meta-expert"},{default:e((()=>[d("回答导师："+f(s.expert),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1}),u(T,{class:"bottom-space"})])),_:1})}],["__scopeId","data-v-3ea2565e"]]);export{L as default};
